<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Working Skeleton: CommunicationManager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Working Skeleton
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceCommunicationLib.html">CommunicationLib</a></li><li class="navelem"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html">CommunicationManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pac-methods">Package Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classCommunicationLib_1_1CommunicationManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CommunicationManager</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a> handles messages coming from the server. It can register a client as data receiver <a class="el" href="interfaceCommunicationLib_1_1IDataReceiver.html" title="Interface for client callback methods ">IDataReceiver</a> to update it via callback. Invocation of the RegisterClient-Method makes the <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a> start a connection to the message broker. <a class="el" href="namespaceClient.html">Client</a> registration can be done for admins as well. In this case the <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a> will subribe to all admin related message topics. It's up to the <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a> to determine which data is relevant for its client.  
 <a href="classCommunicationLib_1_1CommunicationManager.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae77e42bc7cd319adc6776c482d713603"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#ae77e42bc7cd319adc6776c482d713603">CommunicationManager</a> (<a class="el" href="interfaceCommunicationLib_1_1IRestRequester.html">IRestRequester</a> sender, <a class="el" href="interfaceCommunicationLib_1_1IDataReceiver.html">IDataReceiver</a> myClient, string brokerAddress)</td></tr>
<tr class="memdesc:ae77e42bc7cd319adc6776c482d713603"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a>.  <a href="#ae77e42bc7cd319adc6776c482d713603">More...</a><br /></td></tr>
<tr class="separator:ae77e42bc7cd319adc6776c482d713603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2478dde56017ff62a021fac205d4b233"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a2478dde56017ff62a021fac205d4b233">OnMessageReceived</a> (IMessage msg)</td></tr>
<tr class="memdesc:a2478dde56017ff62a021fac205d4b233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call-back method. Is invoked when the messageConsumer receives a Message. Provides ITextMessage and IMapMessages. Calls the <a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a6a6f1e20b03a9ad0a07ddf5bcfbfea4a" title="Invoked by the OnMessageReceived method. Calls the rest requester. The request information is retriev...">HandleRequest()</a> method.  <a href="#a2478dde56017ff62a021fac205d4b233">More...</a><br /></td></tr>
<tr class="separator:a2478dde56017ff62a021fac205d4b233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6358d561bd522314e524da86f9d382c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a6358d561bd522314e524da86f9d382c9">RegisterClient</a> (bool isAdmin)</td></tr>
<tr class="memdesc:a6358d561bd522314e524da86f9d382c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the client which uses the <a class="el" href="classCommunicationLib_1_1ComLib.html" title="Class represents the CommunicationLib for clients. They keep an instance themselves and can Register/...">ComLib</a> to <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a>. Starts a connection to the message broker. Default topics are: WORKFLOW_INFO -&gt; for all workflow changes and definitions USER_INFO -&gt; for all user changes and definitions ROLE_INFO -&gt; for all role changes and definitions FORM_INFO -&gt; for all form changes and definitions  <a href="#a6358d561bd522314e524da86f9d382c9">More...</a><br /></td></tr>
<tr class="separator:a6358d561bd522314e524da86f9d382c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd234dab36981d7ea59e599b901760c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#acd234dab36981d7ea59e599b901760c5">RegisterItemSource</a> (<a class="el" href="classCommunicationLib_1_1Model_1_1Workflow.html">Workflow</a> itemSource)</td></tr>
<tr class="memdesc:acd234dab36981d7ea59e599b901760c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribes to an general item messaging topic for the given workflow. Item activities from this workflow will be received by the <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a>.  <a href="#acd234dab36981d7ea59e599b901760c5">More...</a><br /></td></tr>
<tr class="separator:acd234dab36981d7ea59e599b901760c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a656f5ef066001f74dc2b28df1f1e538b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a656f5ef066001f74dc2b28df1f1e538b">UnregisterClient</a> ()</td></tr>
<tr class="memdesc:a656f5ef066001f74dc2b28df1f1e538b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters the client which uses the <a class="el" href="classCommunicationLib_1_1ComLib.html" title="Class represents the CommunicationLib for clients. They keep an instance themselves and can Register/...">ComLib</a> from <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a>. All message subscriptions will be deleted. The broker connection will be stopped.  <a href="#a656f5ef066001f74dc2b28df1f1e538b">More...</a><br /></td></tr>
<tr class="separator:a656f5ef066001f74dc2b28df1f1e538b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-methods"></a>
Package Functions</h2></td></tr>
<tr class="memitem:a4998b4544a3189b8e69d41492c5e1902"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a4998b4544a3189b8e69d41492c5e1902">InitializeConnection</a> (string brokerAddress)</td></tr>
<tr class="memdesc:a4998b4544a3189b8e69d41492c5e1902"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes connection with handed address.  <a href="#a4998b4544a3189b8e69d41492c5e1902">More...</a><br /></td></tr>
<tr class="separator:a4998b4544a3189b8e69d41492c5e1902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad1c205e7299cf4eb5cfab34aeb6a7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#acad1c205e7299cf4eb5cfab34aeb6a7a">Refresh</a> (string brokerAddress)</td></tr>
<tr class="memdesc:acad1c205e7299cf4eb5cfab34aeb6a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refreshes the connection with new broker address.  <a href="#acad1c205e7299cf4eb5cfab34aeb6a7a">More...</a><br /></td></tr>
<tr class="separator:acad1c205e7299cf4eb5cfab34aeb6a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a6a6f1e20b03a9ad0a07ddf5bcfbfea4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a6a6f1e20b03a9ad0a07ddf5bcfbfea4a">HandleRequest</a> (string requestMsg)</td></tr>
<tr class="memdesc:a6a6f1e20b03a9ad0a07ddf5bcfbfea4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked by the OnMessageReceived method. Calls the rest requester. The request information is retrieved from the given message string. The restrequest returns the updated source. This source will be sent to the client(IDataReceiver) by invoking a callback method.  <a href="#a6a6f1e20b03a9ad0a07ddf5bcfbfea4a">More...</a><br /></td></tr>
<tr class="separator:a6a6f1e20b03a9ad0a07ddf5bcfbfea4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad276acdb5126de8c5a0b6be831bb4be8"><td class="memItemLeft" align="right" valign="top">IConnection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#ad276acdb5126de8c5a0b6be831bb4be8">_connection</a></td></tr>
<tr class="separator:ad276acdb5126de8c5a0b6be831bb4be8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292c604099fe05e4c8e1b24c76e04735"><td class="memItemLeft" align="right" valign="top">IConnectionFactory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a292c604099fe05e4c8e1b24c76e04735">_connectionFactory</a></td></tr>
<tr class="separator:a292c604099fe05e4c8e1b24c76e04735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7231e7cac2930234eec7a8822b6e51bb"><td class="memItemLeft" align="right" valign="top">Dictionary&lt; string,IMessageConsumer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a7231e7cac2930234eec7a8822b6e51bb">_messageSubs</a></td></tr>
<tr class="separator:a7231e7cac2930234eec7a8822b6e51bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5932cbac7cfeadba81fdb3d2a3f3e337"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceCommunicationLib_1_1IDataReceiver.html">IDataReceiver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a5932cbac7cfeadba81fdb3d2a3f3e337">_myClient</a></td></tr>
<tr class="separator:a5932cbac7cfeadba81fdb3d2a3f3e337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca81fd0077528c0812806616d360471"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceCommunicationLib_1_1IRestRequester.html">IRestRequester</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a9ca81fd0077528c0812806616d360471">_sender</a></td></tr>
<tr class="separator:a9ca81fd0077528c0812806616d360471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4dc750bdaa1129bda070d4957b9b396"><td class="memItemLeft" align="right" valign="top">ISession&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#ae4dc750bdaa1129bda070d4957b9b396">_session</a></td></tr>
<tr class="separator:ae4dc750bdaa1129bda070d4957b9b396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e4b38a3c6b03fa4d83adbd0ce5f9445"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a6e4b38a3c6b03fa4d83adbd0ce5f9445">DEFINE_OPERATION</a> = &quot;def&quot;</td></tr>
<tr class="separator:a6e4b38a3c6b03fa4d83adbd0ce5f9445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a664b8347d7becbabff4b2144499ff590"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a664b8347d7becbabff4b2144499ff590">DELETE_OPERATION</a> = &quot;del&quot;</td></tr>
<tr class="separator:a664b8347d7becbabff4b2144499ff590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d4daa141dd8c5423da7bd12938d6bb8"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a7d4daa141dd8c5423da7bd12938d6bb8">FORM_TOPIC</a> = &quot;FORM_INFO&quot;</td></tr>
<tr class="separator:a7d4daa141dd8c5423da7bd12938d6bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02b7072bc3f2f518e118d100e91ffcda"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a02b7072bc3f2f518e118d100e91ffcda">ROLE_TOPIC</a> = &quot;ROLE_INFO&quot;</td></tr>
<tr class="separator:a02b7072bc3f2f518e118d100e91ffcda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410d9fba2c65429f892adadc51368571"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a410d9fba2c65429f892adadc51368571">UPDATE_OPERATION</a> = &quot;upd&quot;</td></tr>
<tr class="separator:a410d9fba2c65429f892adadc51368571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59579a642fa68d8a91f893b3c6294307"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a59579a642fa68d8a91f893b3c6294307">USER_TOPIC</a> = &quot;USER_INFO&quot;</td></tr>
<tr class="separator:a59579a642fa68d8a91f893b3c6294307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a249d1b6d4868e42b11851cf062371f0f"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a249d1b6d4868e42b11851cf062371f0f">WORKFLOW_TOPIC</a> = &quot;WORKFLOW_INFO&quot;</td></tr>
<tr class="separator:a249d1b6d4868e42b11851cf062371f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a7e2ae9c2f4c056bb8fe5230a39a8b0a7"><td class="memItemLeft" align="right" valign="top">static Dictionary&lt; string, Type &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a7e2ae9c2f4c056bb8fe5230a39a8b0a7">_dataStructures</a></td></tr>
<tr class="separator:a7e2ae9c2f4c056bb8fe5230a39a8b0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b27630dbcf231bfda3a7d79e1eefce5"><td class="memItemLeft" align="right" valign="top">static Logger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a5b27630dbcf231bfda3a7d79e1eefce5">logger</a> = LogManager.GetCurrentClassLogger()</td></tr>
<tr class="separator:a5b27630dbcf231bfda3a7d79e1eefce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a> handles messages coming from the server. It can register a client as data receiver <a class="el" href="interfaceCommunicationLib_1_1IDataReceiver.html" title="Interface for client callback methods ">IDataReceiver</a> to update it via callback. Invocation of the RegisterClient-Method makes the <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a> start a connection to the message broker. <a class="el" href="namespaceClient.html">Client</a> registration can be done for admins as well. In this case the <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a> will subribe to all admin related message topics. It's up to the <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a> to determine which data is relevant for its client. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae77e42bc7cd319adc6776c482d713603"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCommunicationLib_1_1CommunicationManager.html">CommunicationManager</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceCommunicationLib_1_1IRestRequester.html">IRestRequester</a>&#160;</td>
          <td class="paramname"><em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceCommunicationLib_1_1IDataReceiver.html">IDataReceiver</a>&#160;</td>
          <td class="paramname"><em>myClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>brokerAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sender</td><td>the rest connector</td></tr>
    <tr><td class="paramname">myClient</td><td>the registeres client for callback</td></tr>
    <tr><td class="paramname">brokerAddress</td><td>the broker url</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6a6f1e20b03a9ad0a07ddf5bcfbfea4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void HandleRequest </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>requestMsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Invoked by the OnMessageReceived method. Calls the rest requester. The request information is retrieved from the given message string. The restrequest returns the updated source. This source will be sent to the client(IDataReceiver) by invoking a callback method. </p>
<p>Define and update operations result a GET-restrequest for the given source information. Deletion operations obviously skip the restrequest, because there is no source for 'GET'. The client(IDataReceiver) receives the necessary delete information via callback method(DataDeletion()). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">requestMsg</td><td>information string for rest-request</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4998b4544a3189b8e69d41492c5e1902"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InitializeConnection </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>brokerAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes connection with handed address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">brokerAddress</td><td>the broker url</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2478dde56017ff62a021fac205d4b233"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OnMessageReceived </td>
          <td>(</td>
          <td class="paramtype">IMessage&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call-back method. Is invoked when the messageConsumer receives a Message. Provides ITextMessage and IMapMessages. Calls the <a class="el" href="classCommunicationLib_1_1CommunicationManager.html#a6a6f1e20b03a9ad0a07ddf5bcfbfea4a" title="Invoked by the OnMessageReceived method. Calls the rest requester. The request information is retriev...">HandleRequest()</a> method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>received message</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acad1c205e7299cf4eb5cfab34aeb6a7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Refresh </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>brokerAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Refreshes the connection with new broker address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">brokerAddress</td><td>the broker url</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6358d561bd522314e524da86f9d382c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RegisterClient </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isAdmin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register the client which uses the <a class="el" href="classCommunicationLib_1_1ComLib.html" title="Class represents the CommunicationLib for clients. They keep an instance themselves and can Register/...">ComLib</a> to <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a>. Starts a connection to the message broker. Default topics are: WORKFLOW_INFO -&gt; for all workflow changes and definitions USER_INFO -&gt; for all user changes and definitions ROLE_INFO -&gt; for all role changes and definitions FORM_INFO -&gt; for all form changes and definitions </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">isAdmin</td><td>if true, client will be set as admin</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acd234dab36981d7ea59e599b901760c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RegisterItemSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCommunicationLib_1_1Model_1_1Workflow.html">Workflow</a>&#160;</td>
          <td class="paramname"><em>itemSource</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribes to an general item messaging topic for the given workflow. Item activities from this workflow will be received by the <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">itemSource</td><td>the workflow form which the item info shall be noticed</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a656f5ef066001f74dc2b28df1f1e538b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UnregisterClient </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregisters the client which uses the <a class="el" href="classCommunicationLib_1_1ComLib.html" title="Class represents the CommunicationLib for clients. They keep an instance themselves and can Register/...">ComLib</a> from <a class="el" href="classCommunicationLib_1_1CommunicationManager.html" title="The CommunicationManager handles messages coming from the server. It can register a client as data re...">CommunicationManager</a>. All message subscriptions will be deleted. The broker connection will be stopped. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ad276acdb5126de8c5a0b6be831bb4be8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IConnection _connection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a292c604099fe05e4c8e1b24c76e04735"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IConnectionFactory _connectionFactory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7e2ae9c2f4c056bb8fe5230a39a8b0a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Dictionary&lt;string, Type&gt; _dataStructures</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">new</span> Dictionary&lt;string, Type&gt;</div>
<div class="line">        {</div>
<div class="line">            {<span class="stringliteral">&quot;workflow&quot;</span>, typeof(Workflow)}, </div>
<div class="line">            {<span class="stringliteral">&quot;item&quot;</span>, typeof(Item)},</div>
<div class="line">            {<span class="stringliteral">&quot;user&quot;</span>, typeof(User)},</div>
<div class="line">            {<span class="stringliteral">&quot;role&quot;</span>, typeof(Role)},</div>
<div class="line">            {<span class="stringliteral">&quot;form&quot;</span>, typeof(Form)}</div>
<div class="line">        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7231e7cac2930234eec7a8822b6e51bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Dictionary&lt;string ,IMessageConsumer&gt; _messageSubs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5932cbac7cfeadba81fdb3d2a3f3e337"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceCommunicationLib_1_1IDataReceiver.html">IDataReceiver</a> _myClient</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9ca81fd0077528c0812806616d360471"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceCommunicationLib_1_1IRestRequester.html">IRestRequester</a> _sender</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae4dc750bdaa1129bda070d4957b9b396"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ISession _session</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6e4b38a3c6b03fa4d83adbd0ce5f9445"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string DEFINE_OPERATION = &quot;def&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a664b8347d7becbabff4b2144499ff590"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string DELETE_OPERATION = &quot;del&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7d4daa141dd8c5423da7bd12938d6bb8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string FORM_TOPIC = &quot;FORM_INFO&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5b27630dbcf231bfda3a7d79e1eefce5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Logger logger = LogManager.GetCurrentClassLogger()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a02b7072bc3f2f518e118d100e91ffcda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string ROLE_TOPIC = &quot;ROLE_INFO&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a410d9fba2c65429f892adadc51368571"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string UPDATE_OPERATION = &quot;upd&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a59579a642fa68d8a91f893b3c6294307"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string USER_TOPIC = &quot;USER_INFO&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a249d1b6d4868e42b11851cf062371f0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string WORKFLOW_TOPIC = &quot;WORKFLOW_INFO&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/Elizabeth/Documents/Visual Studio 2012/Projects/frontend(5)/CommunicationLib/Messaging/<a class="el" href="CommunicationManager_8cs.html">CommunicationManager.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 26 2015 11:28:21 for Working Skeleton by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
